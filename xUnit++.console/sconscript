Import('env')

targetFile = env['getTargetFile']('xUnit++.console')
intDir = env['getIntDir']('xUnit++.console')

local = env.Clone()
local.VariantDir(intDir, './', duplicate = 0)
local.Append(CPPPATH = ['../xUnit++'])

if env['windows'] == True:
    targetFile = targetFile + '.exe'

target = local.Program(targetFile, Glob(intDir + '*.cpp'), LIBS = [env['xUnit'], 'dl', 'pthread' ])

Return('target')
